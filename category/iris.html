<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>:(){:|:&};:</title>
    <meta name="description" content="">
    <meta name="author" content="William Mak">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/theme/bootstrap.min.css" rel="stylesheet">
    <link href="/theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="/theme/local.css" rel="stylesheet">
    <link href="/theme/pygments.css" rel="stylesheet">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="">:(){:|:&};:</a>

        <div class="nav-collapse">
        <ul class="nav">
            
        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
        

        


    <div class='article'>
        <div class="content-title">
            <a href="/iris.html"><h1>Iris</h1></a>
Mon 24 February 2014

by <a class="url fn" href="/author/william-mak.html">William Mak</a>
 


 
        </div>
        
        <div><p><a href="https://github.com/IrisConstruct/iris">Iris</a> is an image analysis program that
given a manifest file, and a set of images will return the relative positions of
each capturing camera from one another. For example the follwowin two images
were taken by two phones beside each other. This one on the left: <img alt="left
image" src="https://github.com/IrisConstruct/iris/blob/master/src/img/a.jpg?raw=true" />
and this one on the right: <img alt="right
image" src="https://github.com/IrisConstruct/iris/blob/master/src/img/b.jpg?raw=true" /></p>
<p>So how do i find which picture is which? Well they are very close to one another
so I then used this to my advantage to use opencv to find
the matching landmarks between the two images. It then returns the following
image. <img alt="comparisons" src="http://wmak.io/images/iris.jpg" /> </p>
<p>Now that I have found the matching points in the two images I can find there
distances from the left side of the image. This then tells me there relative
positions. This is because the left camera will see the same landmarks further 
to the left and the right camera will see the landmarks further to the right.
This seems anti intuitive especially if you try moving your head left and right
while staring at an object you will see that on the left the object will appear
furhter to the right. The reason the code is the other way around is that images
are mirrored by the front camera phones.</p>
<p>So there we have it, at the code will return a "matrix" of scores that are then
used by the backend code to crop and position an image or video:
<code>{'scrs': [{'ip2': u'192.168.0.5', 'ip1': u'192.168.0.5', 'score': 0.0}, {'ip2':
u'192.168.0.6', 'ip1': u'192.168.0.5', 'score': 65.76188568516939}, {'ip2':
u'192.168.0.5', 'ip1': u'192.168.0.6', 'score': -17.09808192707039}, {'ip2':
u'192.168.0.6', 'ip1': u'192.168.0.6', 'score': 241.95999999999995}]}</code></p></div>
        <hr />
    </div>
		
<div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Previous</a></li>

    <li class="active"><a href="/category/iris.html">1</a></li>

    <li class="next disabled"><a href="#">&rarr; Next</a></li>

</ul>
</div>
 
  
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="/">Archives</a>
                <li><a href="/tags.html">Tags</a>
                <li><a href="/" rel="alternate">Atom feed</a></li>
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="/category/dotfiles.html">Dotfiles</a></li>
                <li><a href="/category/general.html">General</a></li>
                <li><a href="/category/hermes.html">Hermes</a></li>
                <li><a href="/category/iris.html">Iris</a></li>
                <li><a href="/category/programming.html">Programming</a></li>
                   
            </ul>
            </div>




            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                <li><a href="https://github.com/wmak">github</a></li>
                <li><a href="https://plus.google.com/u/0/+WilliamMak">google</a></li>
                <li><a href="http://www.linkedin.com/pub/william-mak/66/b1b/a52">LinkedIn</a></li>
                <li><a href="/content/resume.pdf">resume</a></li>
            </ul>
            </div>
            </div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="">:(){:|:&};:</a> &copy; William Mak 2012</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>
<script>var _gaq=[['_setAccount','UA-48091655-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>
 
</body>
</html>